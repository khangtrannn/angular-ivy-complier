<div class="header">
  <div class="title-section">
    <ng-container *ngTemplateOutlet="angularLogo"></ng-container>
    <h1>Angular Ivy Compiler v20.3.4</h1>
  </div>
</div>

<div class="code-editor">
  <div class="editor-tabs">
    <div class="tab active">
      <span>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 150.6 182.6c12.5-12.5 12.5-32.8 0-45.3z"/></svg>
        main.ts
      </span>
    </div>
  </div>

  <div class="editor-content">
    <div class="input-section">
      <div class="editor-container" 
        #codeMirror="appCodeMirror" 
        appCodeMirror 
        [content]="inputCode()" 
        [isCodeEditor]="true">
      </div>

      <div class="compiled-code-button-wrapper">
        <button (click)="compileCode(codeMirror.doc)" [attr.text]="isCompiling() ? 'Compiling' : 'Compile Code'"
          class="compile-code-btn primary-btn">{{ isCompiling() ? 'Compiling' : 'Compile Code' }}</button>
      </div>
    </div>

    @if (isCompiling()) {
      <div class="output-section">
        <div class="compilation-skeleton" [class.fade-out]="isSkeletonFadingOut()">
          <div class="skeleton-content">
            <div class="skeleton-line skeleton-line-long"></div>
            <div class="skeleton-line skeleton-line-medium"></div>
            <div class="skeleton-line skeleton-line-long"></div>
            <div class="skeleton-line skeleton-line-short"></div>
            <div class="skeleton-line skeleton-line-medium"></div>
            <div class="skeleton-line skeleton-line-long"></div>
            <div class="skeleton-line skeleton-line-medium"></div>
            <div class="skeleton-line skeleton-line-short"></div>
            <div class="skeleton-line skeleton-line-medium"></div>
            <div class="skeleton-line skeleton-line-long"></div>
            <div class="skeleton-line skeleton-line-medium"></div>
            <div class="skeleton-line skeleton-line-short"></div>
          </div>
        </div>
      </div>
    } @else if (compilationError()) {
      <div class="output-section">
        <div class="error">{{ compilationError() }}</div>
      </div>
    } @else if (compiledCode()) {
      <div class="output-section">
        @if (compilationTime() !== null) {
          <div class="performance-info">
            <span class="compilation-time">
              âš¡ {{ compilationTime() }}ms
              @if (fromCache()) {
                <span class="cache-indicator">(cached)</span>
              }
            </span>
          </div>
        }
        
        <div class="codemirror-container" [class.streaming]="isStreaming()">
          <code class="compiled-code" [hasDiagnostics]="hasDiagnostics()" [content]="compiledCode()" appCodeMirror></code>

          @if (isStreaming()) {
            <div class="typewriter-overlay" 
                 [style.--progress]="streamingProgress() + '%'"></div>
          }
        </div>
      </div>
    }
  </div>
</div>

<ng-template #angularLogo>
  <div class="logo">
    <svg _ngcontent-ng-c4013152493="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 223 236" class="angular-logo"><g _ngcontent-ng-c4013152493="" clip-path="url(#a)"><path _ngcontent-ng-c4013152493="" fill="url(#b)" d="m222.077 39.192-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"></path><path _ngcontent-ng-c4013152493="" fill="url(#c)" d="m222.077 39.192-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"></path></g><defs _ngcontent-ng-c4013152493=""><linearGradient _ngcontent-ng-c4013152493="" id="b" x1="49.009" x2="225.829" y1="213.75" y2="129.722" gradientUnits="userSpaceOnUse"><stop _ngcontent-ng-c4013152493="" stop-color="#E40035"></stop><stop _ngcontent-ng-c4013152493="" offset=".24" stop-color="#F60A48"></stop><stop _ngcontent-ng-c4013152493="" offset=".352" stop-color="#F20755"></stop><stop _ngcontent-ng-c4013152493="" offset=".494" stop-color="#DC087D"></stop><stop _ngcontent-ng-c4013152493="" offset=".745" stop-color="#9717E7"></stop><stop _ngcontent-ng-c4013152493="" offset="1" stop-color="#6C00F5"></stop></linearGradient><linearGradient _ngcontent-ng-c4013152493="" id="c" x1="41.025" x2="156.741" y1="28.344" y2="160.344" gradientUnits="userSpaceOnUse"><stop _ngcontent-ng-c4013152493="" stop-color="#FF31D9"></stop><stop _ngcontent-ng-c4013152493="" offset="1" stop-color="#FF5BE1" stop-opacity="0"></stop></linearGradient><clipPath _ngcontent-ng-c4013152493="" id="a"><path _ngcontent-ng-c4013152493="" fill="#fff" d="M0 0h223v236H0z"></path></clipPath></defs></svg>
  </div>
</ng-template>